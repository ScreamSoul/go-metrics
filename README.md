# Сервис сбора метрик и алертинга

Cервер для сбора рантайм-метрик, который будет собирать репорты от агентов по протоколу HTTP. В качестве источника метрик используется пакет runtime.

## Описание Makefile

В этом репозитории представлен Makefile, который содержит набор команд для упрощения работы с проектом, включая управление базой данных и сборку сервера и агента.

### Зависимости

- **Бинарные файлы**: `./statictest` и `./metricstest`

### Цели Makefile

- **FORCE**: Фиктивная цель, используемая для принудительного выполнения других целей.
- **up-db**: Запускает базу данных с использованием Docker Compose.
- **down-db**: Останавливает и удаляет контейнеры базы данных, созданные с помощью Docker Compose.
- **logs-db**: Показывает логи контейнеров базы данных.
- **statictest**: Выполняет статический анализ кода с помощью `golangci-lint` и `go vet`.
- **build-server**: Сборка сервера.
- **build-agent**: Сборка агента.
- **metrictest**: Запускает тесты метрик, используя собранные сервер и агент.

### Использование

Для выполнения целей используйте команду `make <имя цели>`. Например, для запуска базы данных используйте `make up-db`, а для сборки сервера - `make build-server`.

### Зависимости

- Docker и Docker Compose должны быть установлены и настроены на вашем компьютере.
- Для работы с базой данных и сборки проекта требуется Go.
- Для статического анализа кода необходимо установить `golangci-lint`.

### Примечания

- Перед запуском тестов метрик убедитесь, что сервер и агент были успешно скомпилированы с помощью `make build-server` и `make build-agent`.
- Для настройки параметров тестов метрик, таких как порт сервера, пути к бинарным файлам и параметры подключения к базе данных, измените соответствующие значения в команде `metrictest`.